{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport moment from 'moment';\nexport default {\n  name: 'ConfItem',\n  props: ['name', 'deadline', 'location', 'url', 'is_expired'],\n\n  data() {\n    return {\n      DD: 0,\n      HH: 0,\n      MM: 0,\n      SS: 0,\n      is_expired_local: false,\n      local_time: ''\n    };\n  },\n\n  mounted() {\n    this.countdown();\n    setInterval(this.countdown, 1000);\n  },\n\n  methods: {\n    countdown: function () {\n      var countDownDate = new Date(this.deadline);\n      var countDownDate_time = countDownDate.getTime();\n      this.local_time = countDownDate.toString();\n      console.log(moment(countDownDate).format('YYYY-MM-DD'));\n      var now = new Date().getTime();\n      var distance = countDownDate_time - now;\n      this.DD = Math.floor(distance / (1000 * 60 * 60 * 24));\n      this.HH = Math.floor(distance % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n      this.MM = Math.floor(distance % (1000 * 60 * 60) / (1000 * 60));\n      this.SS = Math.floor(distance % (1000 * 60) / 1000);\n\n      if (distance < 0 && !this.is_expired) {\n        this.is_expired_local = true;\n        location.reload();\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;EACAA,gBADA;EAEAC,4DAFA;;EAGAC;IACA;MACAC,KADA;MAEAC,KAFA;MAGAC,KAHA;MAIAC,KAJA;MAKAC,uBALA;MAMAC;IANA;EAQA,CAZA;;EAaAC;IACA;IACAC;EACA,CAhBA;;EAiBAC;IACAC;MACA;MACA;MACA;MACAC;MACA;MACA;MACA;MACA;MACA;MACA;;MACA;QACA;QACAC;MACA;IACA;EAhBA;AAjBA","names":["name","props","data","DD","HH","MM","SS","is_expired_local","local_time","mounted","setInterval","methods","countdown","console","location"],"sourceRoot":"src/components","sources":["ConfItem.vue"],"sourcesContent":["<template>\n    <div class=\"conf\">\n        <div id=\"item-content\">\n            <div id=\"item-col\">\n                <h2><a v-bind:href=\"url\">{{ name }}</a></h2> \n                <p>Location: {{ location }}</p>\n            </div>\n\n            <div id=\"item-col\">\n                <h2 v-if=\"is_expired == false\">{{DD}}days {{HH}}h {{MM}}m {{SS}}s</h2>\n                <h2 v-else>Past Due</h2>\n                <p>Deadline: {{local_time}}</p>\n                <p>Deadline_origin: {{ deadline }}</p>\n            </div>\n        </div>\n        \n        <div class=\"ui divider\"></div>\n    </div>\n</template>\n\n\n<script>\nimport moment from 'moment'\nexport default {\n    name: 'ConfItem',\n    props: ['name', 'deadline', 'location', 'url', 'is_expired'],\n    data() {\n        return {\n            DD: 0,\n            HH: 0,\n            MM: 0,\n            SS: 0,\n            is_expired_local:false,\n            local_time: ''\n        }\n    },\n    mounted() {\n        this.countdown()\n        setInterval( this.countdown, 1000)\n    },\n    methods: {\n        countdown: function(){\n            var countDownDate = new Date(this.deadline)\n            var countDownDate_time = countDownDate.getTime()\n            this.local_time = countDownDate.toString()\n            console.log(moment(countDownDate).format('YYYY-MM-DD'));\n            var now = new Date().getTime();\n            var distance = countDownDate_time - now;\n            this.DD = Math.floor(distance / (1000 * 60 * 60 * 24));\n            this.HH = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n            this.MM = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n            this.SS = Math.floor((distance % (1000 * 60)) / 1000);\n            if (distance < 0 && !this.is_expired){\n                this.is_expired_local = true\n                location.reload()\n            }\n        }\n    }\n}\n</script>\n\n\n<style scoped>\n.conf {\n    padding-top: 20px;\n}\n\n#item-col {\n    float: left;\n    width: 50%;\n}\n\n#item-content:after {\n  content: \"\";\n  display: table;\n  clear: both;\n}\n\na:link {\n    color: black;\n    text-decoration: underline;\n}\n\na:visited {\n    color: black;\n    text-decoration: underline;\n}\n\na:hover {\n    color: darkgray;\n    text-decoration: underline;\n}\n\na:active {\n    color: black;\n    text-decoration: underline;\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}